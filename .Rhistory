bookdown::render_book("00index.Rmd", "bookdown::gitbook")
files <- list.files(pattern = "[.]rmd$")
for (f in files) rmarkdown::render(f)
files
list.files(pattern = "[.]rmd$")
list.files(pattern = "[.]Rmd")
files <- list.files(pattern = "[.]Rmd")
for (f in files) rmarkdown::render(f)
pacientes <- read_xlsx('./data/dados_raw.xlsx')
head(pacientes)
setwd('../')
medicos <- read_xlsx('./data/dados_raw.xlsx', sheet = 2)
library(readxl)
library(dplyr)
library(stringr)
library(geosphere)
medicos <- read_xlsx('./data/dados_raw.xlsx', sheet = 2)
str_split(medicos$Local, ' ') %>%
sapply(function(x) {
return(x[2])
}) -> medicos$Local
head(medicos)
write.table(medicos, 'medicos.csv', sep=',', row.names = F)
pacientes <- read_xlsx('./data/dados_raw.xlsx')
head(pacientes)
dist <- numeric(length(pacientes$Medico))
head(pacientes)
# distribuição da distância
hist_boxplot(pacientes$dist)
# gráfico de histograma com boxplot
hist_boxplot <- function(var) {
g1 <- ggplot(pacientes, aes(var)) + geom_histogram(fill=fill_color, color='white') +
theme_minimal() + xlim(range(var))
g2 <- ggplot(pacientes, aes(var)) + geom_boxplot(fill=fill_color, color='black') +
theme_minimal() + xlim(range(var))
grid.arrange(g1,g2, ncol=1)
}
# distribuição da idade
hist_boxplot(pacientes$Idade)
library(ggplot2)
library(gridExtra)
library(dplyr)
library(leaflet)
library(corrplot)
library(leaflet)
pacientes <- read.table('./data/pacientes.csv', sep=',', h=T)
head(pacientes)
summary(pacientes$Longitude)
summary(pacientes$Latitude)
# medidas para a idade
pacientes %>% group_by(Medico) %>%
summarise(min = min(Idade),
media = mean(Idade),
mediana = median(Idade),
max = max(Idade),
variância = var(Idade)
)
# medidas para a distância
pacientes %>% group_by(Medico) %>%
summarise(min = min(dist),
media = mean(dist),
mediana = median(dist),
max = max(dist),
variância = var(dist)
)
fill_color <- 'royalblue'
# frequência de atendimento por médicos
pacientes %>%
ggplot(aes(x=Medico)) + geom_bar(fill=fill_color) + theme_minimal()
# frequência de atendimento por médicos
pacientes %>%
ggplot(aes(x=Medico)) + geom_bar(fill=fill_color) + theme_minimal()
g_freq_med
source('../01analise_descritiva.R')
source('01analise_descritiva.R')
# gráfico de boxplot de acordo com o médico
boxplot_idade <- function(var) {
ggplot(pacientes, aes(x=Medico, y=var)) + geom_boxplot(fill= fill_color) +
theme_minimal()
}
# boxplot para a idade de acordo com o médico
boxplot_idade(pacientes$Idade)
source('01analise_functions.R')
source('01analise_functions.R')
library(shiny)
pacientes[,'Idade']
source('./01analise_functions.R')
# frequência de atendimento por médicos
pacientes %>%
ggplot(aes(x=Medico)) + geom_bar(fill=fill_color) + theme_minimal()
source('./01analise_functions.R')
head(pacientes)
summary(pacientes$Idade)
hist(pacientes$Idade)
head(pacientes) %>% knitr(align='c', booktabs=T)
library(knitr)
library(knitr)
head(pacientes) %>% knitr(align='c', booktabs=T)
head(pacientes) %>% kable(align='c', booktabs=T)
pacientes$dist <- round(dist / 1000)
pacientes
pacientes$dist
pacientes$dist <- round(dist / 1000, 3)
pacientes$dist
dist / 1000
pacientes <- read_xlsx('./data/dados_raw.xlsx')
head(pacientes)
# distância
dist <- numeric(length(pacientes$Medico))
for(i in seq_along(pacientes$Medico)){
ind <- grep(pacientes[i,3], LETTERS[1:7])
dist[i] <- distHaversine(pacientes[i,c(2,1)], medicos[ind, c(3,2)])
}
pacientes$dist <- round(dist / 1000, 3)
library(readxl)
library(dplyr)
library(stringr)
library(geosphere)
medicos <- read_xlsx('./data/dados_raw.xlsx', sheet = 2)
str_split(medicos$Local, ' ') %>%
sapply(function(x) {
return(x[2])
}) -> medicos$Local
head(medicos)
write.table(medicos, ',/data/medicos.csv', sep=',', row.names = F)
pacientes <- read_xlsx('./data/dados_raw.xlsx')
medicos <- read_xlsx('./data/dados_raw.xlsx', sheet = 2)
str_split(medicos$Local, ' ') %>%
sapply(function(x) {
return(x[2])
}) -> medicos$Local
head(medicos)
write.table(medicos, ',/data/medicos.csv', sep=',', row.names = F)
write.table(medicos, './data/medicos.csv', sep=',', row.names = F)
pacientes <- read_xlsx('./data/dados_raw.xlsx')
head(pacientes)
# distância
dist <- numeric(length(pacientes$Medico))
for(i in seq_along(pacientes$Medico)){
ind <- grep(pacientes[i,3], LETTERS[1:7])
dist[i] <- distHaversine(pacientes[i,c(2,1)], medicos[ind, c(3,2)])
}
pacientes$dist <- round(dist / 1000, 3)
pacientes$dist
pacientes$Categoria[pacientes$Idade < 40] = "menor que 40"
pacientes
pacientes$Categoria
summary(pacientes$Idade)
getwd()
